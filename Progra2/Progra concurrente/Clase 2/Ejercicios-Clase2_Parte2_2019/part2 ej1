programa Mensaje 
procesos
  proceso contarF(ES flores: numero)
  variables
    aux : numero
  comenzar
    aux := 0
    mientras (HayFlorEnLaEsquina)
      tomarFlor
      aux := aux + 1
    repetir aux
      depositarFlor
    flores := flores + aux
  fin
areas
  ciudad1 : AreaP(2,2,4,6)
  ciudad2 : AreaP(6,2,8,6)
  ciudad3 : AreaP(10,2,12,6)
  ciudad4 : AreaP(14,2,16,6)
  areajefe: AreaP(1,1,1,1)
robots 
  robot tipo1
  variables
    flores : numero
  comenzar
    repetir 2
      repetir 4
        contarF(flores)
        mover
      derecha
      repetir 2
        contarF(flores)
        mover
      derecha
    EnviarMensaje(flores, robotjefe)
  fin
  robot tipo2
  variables
    cuenta : numero
    aux : numero
  comenzar
    cuenta:=0
    RecibirMensaje(aux, *)
    cuenta:= cuenta+aux
    RecibirMensaje(aux, *)
    cuenta:= cuenta+aux
    RecibirMensaje(aux, *)
    cuenta:= cuenta+aux
    RecibirMensaje(aux, *)
    cuenta:= cuenta+aux
    Informar(cuenta)
  fin
variables 
  robot1: tipo1
  robot2: tipo1
  robot3: tipo1
  robot4: tipo1
  robotjefe: tipo2
comenzar 
  AsignarArea(robot1,ciudad1)
  AsignarArea(robot2,ciudad2)
  AsignarArea(robot3,ciudad3)
  AsignarArea(robot4,ciudad4)
  AsignarArea(robotjefe,areajefe)
  Iniciar(robotjefe, 1, 1)
  Iniciar(robot1, 2, 2)
  Iniciar(robot2, 6, 2)
  Iniciar(robot3, 10, 2)
  Iniciar(robot4, 14, 2)
fin 
