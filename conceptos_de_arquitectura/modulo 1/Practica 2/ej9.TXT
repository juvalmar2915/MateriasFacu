ORG 1000H
MSJ DB "INGRESE CLAVE: "
ACCESOP DB "Acceso permitido"
ACCESOD DB "Acceso denegado"
FINAD DB ?

ORG 1500H
CLAVE DB "HOLA"
AINGRESAR DB "????"

ORG 3000H
COMPARAR: PUSH AX
PUSH BX
PUSH CX
PUSH DX
MOV AH, 04H
MOV CX, OFFSET CLAVE
MOV DX, OFFSET AINGRESAR
SIGOCOMPARANDO: MOV BX, CX
MOV AL, [BX]
INC CX
MOV BX, DX
CMP [BX], AL
JNZ CLAVEINC ; EN CASO DE QUE UNA DE LAS COMPARACIONES ES INCORRECTA 
INC DX
DEC AH
JNZ SIGOCOMPARANDO ; MIENTRAS NO REVISE LOS 4 CARACTERES SIGO
MOV BX, OFFSET ACCESOP
MOV AL, OFFSET ACCESOD-OFFSET ACCESOP
INT 7
JMP TERMINE
CLAVEINC: MOV BX, OFFSET ACCESOD
MOV AL, OFFSET FINAD-OFFSET ACCESOD
INT 7
TERMINE: POP DX
POP CX
POP BX
POP AX
RET

ORG 2000H
MOV AL, OFFSET ACCESOP-OFFSET MSJ
MOV BX, OFFSET MSJ
INT 7
MOV CL, 04H ; VECES A INSERTAR UN VALOR PARA LA CLAVE
MOV BX, OFFSET AINGRESAR
VECES4: INT 6
INC BX
DEC CL
CMP CL, 00H
JNZ VECES4
CALL COMPARAR
INT 0
END
